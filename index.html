<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Task5</title>
</head>
<body>
    <script>
        class Car {
            constructor(id, brand, model, originYear, color, price, regMark){
                this.id = id;
                this.brand = brand;
                this.model = model;
                this.originYear = originYear;
                this.color = color;
                this.price = price;
                this.regMark = regMark;
            }
        }

        var array = [];
        var gId = 1;
        var n;

        try {
            n = prompt("Сколько машин вы хотите добавить?(от 1 до 5)?");
            if (n === ""){
                throw "uncorrectString";
            } else {
            let check = parseInt(n);
            if (isNaN(check)){
                throw "NaN exc";
            }
            if(n<1 || n>5){
                throw "numberCarsException";
            }
        }
        } catch (error) {
           if (error == "numberCarsException"){
               alert(error);
           }
           else if(error == "uncorrectString"){
               alert(error);
           }
           else if(error == "NaN exc"){
               alert(error);
           }
        }

       

        function createCars(n) {
            let id, brand, model, originYear, color, price, regMark;
            for(let i = 0; i < n; i++){
                id = gId;
                try {
                    brand = prompt("Введите бренд машины: ");
                    model = prompt("Введите модель машины: ");
                    originYear = parseInt(prompt("Введите год выпуска: "));
                    color = prompt("Цвет машины: ");
                    price = parseInt(prompt("Введите цену: "));
                    regMark = parseInt(prompt("Регистрационный номер: "));
                    if (brand==="" || model==="" || originYear==="" || color==="" || price==="" || regMark===""){
                        throw "fieldNullExc";
                    }
                    if (isNaN(originYear) || isNaN(price) || isNaN(regMark)){
                        throw "numFieldsExc";
                    }
                } catch (error) {
                    if (error == "fieldNullExc"){
                        alert(error);
                    }
                    else if(error == "numFieldsExc"){
                        alert(error);
                    }
                }
                array.push(new Car(id, brand, model, originYear, color, price, regMark));
                console.log(array);
                gId++;
            }
        }

//************Эксперементальный массив для проверки фильтров*********
    var array2 = [];
    array2.push(new Car(1, "BMW", "x7", 1999, "black", 200000, 132));
    array2.push(new Car(2, "Audi", "r8", 2000, "red", 150000, 133));
    array2.push(new Car(3, "Audi", "r4", 2005, "red", 160000, 134));

//*********ВЫВОД ПО МАРКЕ***********************
        function a(mark){
            for(let i = 0; i<array2.length; i++){
                if (array2[i].brand == mark){
                    console.log(array2[i]);
                } 
            }
        }

//**************ВЫВОД ПО МОДЕЛИ И КОЛ-ВУ ЛЕТ ЭКСПЛУАТАЦИИ**********
        function b(m, y){
            for(let i = 0; i<array2.length; i++){
                if (array2[i].model==m && (2019 - array2[i].originYear)>y){
                    console.log(array2[i]);
                }
            }
        }

//**************ПО ГОДУ ВЫПУСКА И ЦЕНЕ********************
        function c(year,cost){
            for(let i = 0; i<array2.length; i++){
                if (array2[i].originYear==year && array2[i].price>cost){
                    console.log(array2[i]);
                }
            }
        }

        createCars(n);
        
        a("Audi");
        b("x7", 10);
        c(2005, 1000);
    </script>
</body>
</html>